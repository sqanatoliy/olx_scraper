# OLX Scraper

## ‚ö†Ô∏è –£–≤–∞–≥–∞
–¶–µ–π –ø—Ä–æ—î–∫—Ç –±—É–≤ –≤–∏–∫–æ–Ω–∞–Ω–∏–π –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è —ñ –Ω–µ –º–∞—î –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ –º–æ–∂–µ –≤–∏–º–∞–≥–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –±–µ–∑–ø–µ–∫–∏ —Ç–∞ —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ.

---

## üìå –û–ø–∏—Å –ø—Ä–æ—î–∫—Ç—É
–¶–µ–π —Å–∫—Ä–∞–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Scrapy** —Ç–∞ **—á–∏—Å—Ç–∏–π Playwright** –¥–ª—è –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö —ñ–∑ –∑–∞–¥–∞–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –æ–≥–æ–ª–æ—à–µ–Ω—å –Ω–∞ OLX. –í—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ —É PostgreSQL —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤—É –æ–±—Ä–æ–±–∫—É. –î–æ–∑–≤–æ–ª—è—î –∑–¥—ñ–π—Å–Ω—é–≤–∞—Ç–∏ –ø–æ—à—É–∫ –∑–∞ —Ä—ñ–∑–Ω–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ –æ–≥–æ–ª–æ—à–µ–Ω—å, –∑–∞–±–µ–∑–ø–µ—á—É—î —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –∑–∞ –∫–ª—é—á–æ–≤–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –ª–æ–∫–∞—Ü—ñ—î—é —î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —ñ–Ω—à—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ –ø—Ä–∏—Å—É—Ç–Ω—ñ –Ω–∞ OLX.

---

##  –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- –°–∫—Ä–∞–ø—ñ–Ω–≥ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é, –ª–æ–∫–∞—Ü—ñ—î—é —Ç–∞ –∫–ª—é—á–æ–≤–∏–º–∏ —Å–ª–æ–≤–∞–º–∏

- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ–π –¥–ª—è –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ —Ç–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É

- –í–∑—è—Ç—Ç—è –Ω–æ–º–µ—Ä—ñ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤

- –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —É PostgreSQL

- Docker-ized: –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ docker-compose

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –¥–∞–º–ø–∏ –±–∞–∑–∏ —â–æ–¥–æ–±–∏

- –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∞–ø–µ—Ä–∞ —â–æ–≥–æ–¥–∏–Ω–∏

---


## üì• –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É
### 1Ô∏è‚É£ **–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**
```bash
git clone https://github.com/sqanatoliy/olx_scraper.git
cd olx_scraper
```

### 2Ô∏è‚É£ **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π**
```bash
python -m venv venv
source venv/bin/activate  # Linux/MacOS
venv\Scripts\activate    # Windows
pip install -r requirements.txt
```

---

## üöÄ –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫

### 1Ô∏è‚É£ **–ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è `.env.local`**
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `.env.local` —Ç–∞ –∑–∞–ø–æ–≤–Ω–∏—Ç–∏ –π–æ–≥–æ:
```
POSTGRES_USER=your_user
POSTGRES_PASSWORD=your_password
POSTGRES_DB=your_database
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
OLX_EMAIL=your_email@example.com
OLX_PASSWORD=your_password
```

### 2Ô∏è‚É£ **–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∞–ø–µ—Ä–∞**

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—ñ–¥–≥–æ—Ç—É–π—Ç–µ .env –∑ –≤–∞—à–∏–º–∏ –¥–∞–Ω–∏–º–∏.

–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó *–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç* –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó *–õ–µ–≥–∫–æ–≤—ñ –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ* —Ç–∞ –º–∞—Ä–∫–∏ –∞–≤—Ç–æ *Volksvagen* –ë—É–¥–µ –æ–±—Ä–æ–±–ª–µ–Ω–∞ –æ–¥–Ω–∞ (–ø–µ—Ä—à–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –æ–≥–æ–ª–æ—à–µ–Ω—å –∑–∞ –¥–∞–Ω–∏–º–∏ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏)

```bash
scrapy crawl olx -a category=transport -a subcategory_1=legkovye-avtomobili -a subcategory_2=volkswagen -a end_page=1 -o ads.json
```

---

## üê≥ –ó–∞–ø—É—Å–∫ —É Docker

### 1Ô∏è‚É£ **–ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è `.env`**
```bash
POSTGRES_USER=your_user
POSTGRES_PASSWORD=your_password
POSTGRES_DB=your_database
POSTGRES_HOST=db
POSTGRES_PORT=5432
OLX_EMAIL=your_email@example.com
OLX_PASSWORD=your_password
```

### 2Ô∏è‚É£ **–ó–∞–ø—É—Å–∫ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ**
```bash
docker-compose up --build
```

–¶–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å **—Å–∫—Ä–∞–ø–µ—Ä + PostgreSQL** —É Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

### 3Ô∏è‚É£ **–ó—É–ø–∏–Ω–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤**
```bash
docker-compose down
```

---

## üìå –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —á–∏—Å—Ç–æ–≥–æ Playwright
–£ —Ü—å–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ **–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è Scrapy-Playwright**, –∞ –∑–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ **—á–∏—Å—Ç–∏–π Playwright**:
- **–û–¥–∏–Ω –±—Ä–∞—É–∑–µ—Ä —Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Ç—ñ–≤** (–∑–º–µ–Ω—à—É—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—ñ).
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ `storage_state.json`**.
- **–ì–Ω—É—á–∫—ñ—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ Playwright** (–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–∞—Ç—Ä–∏–º–∫–∏, –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç).

---

## üî• –ë–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–∏–π —Ä–µ–∂–∏–º
–©–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∫—Ä–∞–ø–µ—Ä —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä —É `settings.py`:
```python
CONCURRENT_REQUESTS = 8  # –ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
```

> **‚ö†Ô∏è –ó–∞—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è:** –í–µ–ª–∏–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≤–∞—à–æ—ó IP-–∞–¥—Ä–µ—Å–∏.

---

## üåç –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–∫—Å—ñ
–ù–∞ –¥–∞–Ω–∏–π –º–æ–º–µ–Ω—Ç —É –ø—Ä–æ—î–∫—Ç—ñ **–Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –ø—Ä–æ–∫—Å—ñ**, —â–æ –æ–∑–Ω–∞—á–∞—î:
- OLX –º–æ–∂–µ –∑–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ –≤–∞—à—É IP-–∞–¥—Ä–µ—Å—É –ø—ñ—Å–ª—è –∫—ñ–ª—å–∫–æ—Ö —Å–æ—Ç–µ–Ω—å –∑–∞–ø–∏—Ç—ñ–≤.

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–∫—Ä–∞–ø—ñ–Ω–≥—É
–£ `settings.py` –≤–∏ –º–æ–∂–µ—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –¥–ª—è –∑–±–æ—Ä—É:
```python
START_PAGE = 1
END_PAGE = 5  # –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –¥–ª—è —Å–∫—Ä–∞–ø—ñ–Ω–≥—É
```

---

## üìã –í–∏–º–æ–≥–∏, —è–∫—ñ –≤–∏–∫–æ–Ω—É—î —Ü–µ–π –ø—Ä–æ—î–∫—Ç:
‚úÖ –ó–±–∏—Ä–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –∑ **–ø–µ—Ä—à–∏—Ö 5 —Å—Ç–æ—Ä—ñ–Ω–æ–∫** OLX.
‚úÖ –ó–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ –≤ **PostgreSQL**, –±–µ–∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–º—ñ–Ω–µ–Ω–∏—Ö –æ–≥–æ–ª–æ—à–µ–Ω—å.
‚úÖ –£–Ω–∏–∫–∞—î **–¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤** —É –±–∞–∑—ñ.
‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è **5 —Ñ–∞–π–ª—ñ–≤ –ø–æ 1 –ì–ë**.
‚úÖ **Docker-—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —á–µ—Ä–µ–∑ `docker-compose`**.
‚úÖ –©–æ–¥–µ–Ω–Ω—ñ **–¥–∞–º–ø–∏ –±–∞–∑–∏ –æ 12:00 –∑–∞ –ö–∏—ó–≤—Å—å–∫–∏–º —á–∞—Å–æ–º** —É `dumps/`.
‚úÖ –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∞–ø–µ—Ä–∞ **—â–æ–≥–æ–¥–∏–Ω–∏**.

---

## üìå –í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏
- **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Playwright**.
- **–î–ª—è —Ä–æ–±–æ—Ç–∏ –±–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω—ñ –ø—Ä–æ–∫—Å—ñ**.
- **–°–∫—Ä–∞–ø–µ—Ä –∑–±–µ—Ä—ñ–≥–∞—î —Å–µ—Å—ñ—é —á–µ—Ä–µ–∑ `storage_state.json`**, —â–æ –¥–æ–∑–≤–æ–ª—è—î —É–Ω–∏–∫–∞—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥—É.

---

## üîß –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- ‚úÖ –î–æ–¥–∞—Ç–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É —Ä–æ—Ç–∞—Ü—ñ—é –ø—Ä–æ–∫—Å—ñ**.
- ‚úÖ –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ **–≤–∏–¥–æ–±—É—Ç–æ–∫ –Ω–æ–º–µ—Ä—ñ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω—É**.


üöÄ **–ü—Ä–æ—î–∫—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏ —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è!**

